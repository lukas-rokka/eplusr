<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to eplusr • eplusr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Introduction to eplusr">
<meta property="og:description" content="eplusr">
<meta property="og:image" content="https://hongyuanjia.github.io/eplusr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141601756-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-141601756-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.12.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eplusr.html">Get started</a>
</li>
<li>
  <a href="https://github.com/hongyuanjia/eplusrIntro">Slides</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hongyuanjia/eplusr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to eplusr</h1>
                        <h4 class="author">Hongyuan Jia</h4>
            
            <h4 class="date">2020-07-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/hongyuanjia/eplusr/blob/master/vignettes/eplusr.Rmd"><code>vignettes/eplusr.Rmd</code></a></small>
      <div class="hidden name"><code>eplusr.Rmd</code></div>

    </div>

    
    
<p>eplusr provides a rich toolkit of using whole building energy simulation program <a href="https://energyplus.net">EnergyPlus</a> directly in R, which enables programmatic navigation, modification of EnergyPlus models, conducts parametric simulations and retrieves outputs. More information about EnergyPlus can be found at <a href="https://energyplus.net">its website</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the latest stable release of eplusr from CRAN.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"eplusr"</span>)</pre></body></html></div>
<p>Alternatively, you can install the development version from GitHub.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co"># install.packages("remotes")</span>
<span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"hongyuanjia/eplusr"</span>)</pre></body></html></div>
<p>Since running the IDF files requires EnergyPlus (<a href="https://energyplus.net" class="uri">https://energyplus.net</a>), EnergyPlus has to be installed before running any models. There are helper functions in eplusr to download and install it automatically on major operating systems (Windows, macOS and Linux):</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="co"># install the latest version (currently v9.1.0)</span>
<span class="kw pkg">eplusr</span><span class="kw ns">::</span><span class="fu"><a href="../reference/install_eplus.html">install_eplus</a></span>(<span class="st">"latest"</span>)

<span class="co"># OR download the latest version (currently v9.1.0) and run the installer</span>
<span class="co"># manually by yourself</span>
<span class="kw pkg">eplusr</span><span class="kw ns">::</span><span class="fu"><a href="../reference/install_eplus.html">download_eplus</a></span>(<span class="st">"latest"</span>, <span class="kw">dir</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>())</pre></body></html></div>
<p>Note that the installation process in <code><a href="../reference/install_eplus.html">install_eplus()</a></code> requires <strong>administrative privileges</strong>. If you are not in interactive mode, you have to run R with administrator (or with sudo if you are on macOS or Linux) to make it work.</p>
</div>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<ul>
<li>Download and install EnergyPlus in R</li>
<li>Read, parse and modify EnergyPlus:
<ul>
<li>Input Data File (IDF)</li>
<li>Weather File (EPW)</li>
<li>Report Data Dictionary (RDD) &amp; Meter Data Dictionary (MDD)</li>
<li>Error File (ERR)</li>
</ul>
</li>
<li>Modify multiple versions of IDFs and run corresponding EnergyPlus both in the background and in the front</li>
<li>Rich-featured interfaces to query and modify IDFs</li>
<li>Automatically handle referenced fields and validate input during modification</li>
<li>Take fully advantage of most common used data structure for data science in R – data.frame
<ul>
<li>Extract model, weather data into data.frames</li>
<li>Modify multiple objects via data.frames input</li>
<li>Query output via SQL in Tidy format which is much better for data analysis and visualization</li>
</ul>
</li>
<li>Provide a simple yet extensible prototype of conducting parametric simulations and collect all results in one go</li>
<li>A pure R-based version updater which is more than <a href="https://hongyuanjia.me/en/2019/08/update-energyplus-using-eplusr-transition">20X</a> faster than VersionUpdater distributed with EnergyPlus</li>
</ul>
</div>
<div id="class-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#class-structure" class="anchor"></a>Class structure</h2>
<p>Below shows the class structure in eplusr.</p>
<p><img src="https://github.com/hongyuanjia/eplusr/blob/master/man/figures/class_structure.png?raw=true" style="display: block; margin: auto;"></p>
<p>Basically, eplusr uses <code>Idf</code> class to present the whole IDF file and <code>IdfObject</code> class to present a single object in an IDF. Both <code>Idf</code> and <code>IdfObject</code> class contain member functions for helping modify the data in IDF so it complies with the underlying EnergyPlus IDD (Input Data Dictionary). Similarly, IDD file is wrapped into two classes, i.e. <code>Idd</code> and <code>IddObject</code>.</p>
<p>Besides, <code>Epw</code> class is used to present EnergyPlus Weather files; <code>EplusJob</code> to run single EnergyPlus simulation and collect outputs, <code>ParametricJob</code> to run parametric EnergyPlus simulations and collect all outputs.</p>
<p>It is highly recommended to read the documentation to get a thorough understanding on each class.</p>
</div>
<div id="read-and-parse" class="section level2">
<h2 class="hasAnchor">
<a href="#read-and-parse" class="anchor"></a>Read and parse</h2>
<p>All IDF reading process starts with function <code><a href="../reference/read_idf.html">read_idf()</a></code>, which returns an <code>Idf</code> object. The model will be printed in a similar style you see in IDFEditor, with additional heading lines showing the <code>Path</code>, <code>Version</code> of the model. The classes of objects in the model are ordered by groups and the number of objects in classes are shown in square bracket.</p>
<p>Parsing an IDF requires the IDD data of that version, which serves as the schema. Usually, when you try to edit an IDF, the corresponding EnergyPlus is likely to be installed already. If EnergyPlus is installed in standard location (<code>C:\EnergyPlusVX-Y-0</code> on Windows, <code>/usr/local/EnergyPlus-X-Y-0</code> on Linux and <code>/Applications/EnergyPlus-X-Y-0</code> on macOS), eplusr is able to find it and use the <code>Energy+.idd</code> file distributed with that release to parse the input IDF. The IDD file will be parsed first and an <code>Idd</code> object will be created and cached. That <code>Idd</code> object will be reused whenever parsing IDFs with that version. For more details, please see <code>?use_idd()</code> and <code>?idd</code>.</p>
<p>Sometimes you may just want to edit the model without installing the whole EnergyPlus software. You can just download the IDD file of that version using <code><a href="../reference/use_idd.html">download_idd()</a></code> or set <code>download</code> to <code>TRUE</code> in <code><a href="../reference/use_idd.html">use_idd()</a></code>. The code below will download IDD file for EnergyPlus v8.8.0, parse it and create an <code>Idd</code> object that will be used whenever parsing all EnergyPlus models of version v8.8.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">path_idd</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/use_idd.html">download_idd</a></span>(<span class="fl">8.8</span>, <span class="kw">dir</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>())
<span class="fu"><a href="../reference/use_idd.html">use_idd</a></span>(<span class="no">path_idd</span>)

<span class="co"># OR</span>
<span class="fu"><a href="../reference/use_idd.html">use_idd</a></span>(<span class="fl">8.8</span>, <span class="kw">download</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p>Now let’s read an IDF file distributed with EnergyPlus 8.8.0. As we have already got the IDD, we can just ignore the <code>idd</code> argument.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">model</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_idf.html">read_idf</a></span>(<span class="kw">path</span> <span class="kw">=</span> <span class="st">"5Zone_Transformer.idf"</span>, <span class="kw">idd</span> <span class="kw">=</span> <span class="kw">NULL</span>)
<span class="co">#&gt; IDD v8.8.0 has not been parsed before.</span>
<span class="co">#&gt; Try to locate `Energy+.idd` in EnergyPlus v8.8.0 installation folder '/usr/local/EnergyPlus-8-8-0'.</span>
<span class="co">#&gt; IDD file found: '/home/travis/.local/EnergyPlus-8-8-0/Energy+.idd'.</span>
<span class="co">#&gt; Start parsing...</span>
<span class="co">#&gt; Parsing completed.</span>

<span class="no">model</span>
<span class="co">#&gt; ── EnergPlus Input Data File ───────────────────────────────────────────────────</span>
<span class="co">#&gt;  * Path: '/tmp/Rtmp8NIpOx/5Zone_Transformer.idf'</span>
<span class="co">#&gt;  * Version: '8.8.0'</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Group: &lt;Simulation Parameters&gt;</span>
<span class="co">#&gt; ├─ [01&lt;O&gt;] Class: &lt;Version&gt;</span>
<span class="co">#&gt; │─ [01&lt;O&gt;] Class: &lt;SimulationControl&gt;</span>
<span class="co">#&gt; │─ [01&lt;O&gt;] Class: &lt;Building&gt;</span>
<span class="co">#&gt; │─ [01&lt;O&gt;] Class: &lt;SurfaceConvectionAlgorithm:Inside&gt;</span>
<span class="co">#&gt; │─ [01&lt;O&gt;] Class: &lt;SurfaceConvectionAlgorithm:Outside&gt;</span>
<span class="no">....</span></pre></body></html></div>
<p><code>Idf</code> class provides lots of methods to programmatically query and modify EnergyPlus models. See table below. This vignette will demonstrate some of them.</p>
<table class="table">
<caption>Methods of <code>Idf</code> class</caption>
<thead><tr class="header">
<th align="left">Category</th>
<th align="left">Method</th>
<th align="left">Functionality</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Basic Info</td>
<td align="left"><code>$version()</code></td>
<td align="left">Get Idf version</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$path()</code></td>
<td align="left">Get Idf file path</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$group_name()</code></td>
<td align="left">Get group names</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$class_name()</code></td>
<td align="left">Get class names</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$is_valid_group()</code></td>
<td align="left">Check group existence</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$is_valid_class()</code></td>
<td align="left">Check class existence</td>
</tr>
<tr class="odd">
<td align="left">Definition</td>
<td align="left"><code>$definition()</code></td>
<td align="left">Get corresponding <code>IddObject</code>
</td>
</tr>
<tr class="even">
<td align="left">Object Info</td>
<td align="left"><code>$object_id()</code></td>
<td align="left">Get object unique ID</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$object_name()</code></td>
<td align="left">Get object name</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$object_num()</code></td>
<td align="left">Get object number in class</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$is_valid_id()</code></td>
<td align="left">Check object ID existence</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$is_valid_name()</code></td>
<td align="left">Check object name existence</td>
</tr>
<tr class="odd">
<td align="left">Object Relation</td>
<td align="left"><code>$object_relation()</code></td>
<td align="left">Get object relation with others</td>
</tr>
<tr class="even">
<td align="left">Object Query</td>
<td align="left"><code>$object()</code></td>
<td align="left">Get single object</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$objects()</code></td>
<td align="left">Get multiple objects</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$object_unique()</code></td>
<td align="left">Get the unique object</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$objects_in_class()</code></td>
<td align="left">Get objects in class</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$objects_in_group()</code></td>
<td align="left">Get objects in group</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$objects_in_relation()</code></td>
<td align="left">Get objects in relation</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$search_object()</code></td>
<td align="left">Get objects using regular expression</td>
</tr>
<tr class="odd">
<td align="left">Object Modification</td>
<td align="left"><code>$dup()</code></td>
<td align="left">Duplicate objects</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$add()</code></td>
<td align="left">Add new objects</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$set()</code></td>
<td align="left">Modify existing objects</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$del()</code></td>
<td align="left">Delete existing objects</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$purge()</code></td>
<td align="left">Delete unused resource objects</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$duplicated()</code></td>
<td align="left">Detect duplicated objects</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$unique()</code></td>
<td align="left">Delete duplicated objects</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$rename()</code></td>
<td align="left">Change object names</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$insert()</code></td>
<td align="left">Add new objects from other <code>IdfObject</code>s</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$load()</code></td>
<td align="left">Add new objects from strings and data.frames</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$update()</code></td>
<td align="left">Update object values from strings and data.frames</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$paste()</code></td>
<td align="left">Add new objects from IDF Editor <code>Copy obj</code>
</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>$search_value()</code></td>
<td align="left">Get objects whose values match regular expression</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$replace_value()</code></td>
<td align="left">Modify object values using regular expression</td>
</tr>
<tr class="odd">
<td align="left">Validation</td>
<td align="left"><code>$validate()</code></td>
<td align="left">Check any errors in <code>Idf</code>
</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$is_valid()</code></td>
<td align="left">Check if no error exists in <code>Idf</code>
</td>
</tr>
<tr class="odd">
<td align="left">Data Extraction</td>
<td align="left"><code>$to_table()</code></td>
<td align="left">Extract <code>Idf</code> data in data.frames</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$to_string()</code></td>
<td align="left">Extract <code>Idf</code> data in strings</td>
</tr>
<tr class="odd">
<td align="left">Save</td>
<td align="left"><code>$is_unsaved()</code></td>
<td align="left">Check if unsaved changes exist</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$save()</code></td>
<td align="left">Save <code>Idf</code> to an <code>.idf</code> file</td>
</tr>
<tr class="odd">
<td align="left">Clone</td>
<td align="left"><code>$clone()</code></td>
<td align="left">Create an copy</td>
</tr>
<tr class="even">
<td align="left">Run</td>
<td align="left"><code>$run()</code></td>
<td align="left">Run <code>Idf</code> together with an <code>Epw</code>
</td>
</tr>
<tr class="odd">
<td align="left">Visualize</td>
<td align="left"><code>$view()</code></td>
<td align="left">Show <code>Idf</code> 3D geometry using the rgl package</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><code>$save_view()</code></td>
<td align="left">Save current view as an image</td>
</tr>
<tr class="odd">
<td align="left">Print</td>
<td align="left"><code>$print()</code></td>
<td align="left">Print <code>Idf</code> in different details</td>
</tr>
</tbody>
</table>
<p>Below will show same example usage of methods listed above.</p>
</div>
<div id="basic-info" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-info" class="anchor"></a>Basic Info</h2>
<p>If you want to see what groups and classes exist in your model, use <code>$group_name()</code> and <code>$class_name()</code> respectively.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">group_name</span>()
<span class="co">#&gt;  [1] "Simulation Parameters"                        </span>
<span class="co">#&gt;  [2] "Location and Climate"                         </span>
<span class="co">#&gt;  [3] "Schedules"                                    </span>
<span class="co">#&gt;  [4] "Surface Construction Elements"                </span>
<span class="co">#&gt;  [5] "Thermal Zones and Surfaces"                   </span>
<span class="no">....</span></pre></body></html></div>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">class_name</span>()
<span class="co">#&gt;  [1] "Version"                                   </span>
<span class="co">#&gt;  [2] "SimulationControl"                         </span>
<span class="co">#&gt;  [3] "Building"                                  </span>
<span class="co">#&gt;  [4] "SurfaceConvectionAlgorithm:Inside"         </span>
<span class="co">#&gt;  [5] "SurfaceConvectionAlgorithm:Outside"        </span>
<span class="no">....</span></pre></body></html></div>
<p>You can use <code>$is_valid_group()</code> and <code>$is_valid_class()</code> to check if curtain groups or names exist in current model.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">is_valid_group</span>(<span class="st">"Schedules"</span>)
<span class="co">#&gt; [1] TRUE</span>
<span class="no">model</span>$<span class="fu">is_valid_class</span>(<span class="st">"ZoneInfiltration:DesignFlowRate"</span>)
<span class="co">#&gt; [1] TRUE</span></pre></body></html></div>
</div>
<div id="class-definition" class="section level2">
<h2 class="hasAnchor">
<a href="#class-definition" class="anchor"></a>Class definition</h2>
<p>You can get class definition using <code>$definition()</code>, which returns an <code>IddObject</code>. All required fields in each class are marked with <code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code>. For example, you can get the <code>IddObject</code> of class <code>Material</code>:</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">def_mat</span> <span class="kw">&lt;-</span> <span class="no">model</span>$<span class="fu">definition</span>(<span class="st">"Material"</span>)
<span class="no">def_mat</span>
<span class="co">#&gt; &lt;IddObject: 'Material'&gt;</span>
<span class="co">#&gt; ── MEMO ────────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt;   "Regular materials described with full set of thermal properties"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── PROPERTIES ──────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt;   * Group: 'Surface Construction Elements'</span>
<span class="co">#&gt;   * Unique: FALSE</span>
<span class="co">#&gt;   * Required: FALSE</span>
<span class="co">#&gt;   * Total fields: 9</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── FIELDS ──────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt;   1*: Name</span>
<span class="co">#&gt;   2*: Roughness</span>
<span class="co">#&gt;   3*: Thickness</span>
<span class="co">#&gt;   4*: Conductivity</span>
<span class="co">#&gt;   5*: Density</span>
<span class="co">#&gt;   6*: Specific Heat</span>
<span class="co">#&gt;   7 : Thermal Absorptance</span>
<span class="co">#&gt;   8 : Solar Absorptance</span>
<span class="co">#&gt;   9 : Visible Absorptance</span></pre></body></html></div>
<p>You can also achieve this using methods in <code>Idd</code> class.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">idd</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/use_idd.html">use_idd</a></span>(<span class="fl">8.8</span>)
<span class="no">idd</span>$<span class="no">Material</span>

<span class="co"># OR</span>
<span class="co"># idd$object("Material")</span>

<span class="co"># OR</span>
<span class="co"># idd_object(8.8, "Material")</span></pre></body></html></div>
<p>With the <code>IddObject</code>, you can easily get class and field properties using methods it has.</p>
<p>For example, you can get all default field values using <code>$field_default()</code>. As we did not give any field index or name, a list is returned containing default values of all fields. The type of each value will be consistent with field definition.</p>
<blockquote>
<p>NOTE: For numeric fields with default values being <code>"autosize"</code> or <code>"autocalculate"</code>, the type of returned values will be “character”.</p>
</blockquote>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">def_val</span> <span class="kw">&lt;-</span> <span class="no">def_mat</span>$<span class="fu">field_default</span>()
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">def_val</span>)
<span class="co">#&gt; List of 9</span>
<span class="co">#&gt;  $ Name               : chr NA</span>
<span class="co">#&gt;  $ Roughness          : chr NA</span>
<span class="co">#&gt;  $ Thickness          : num NA</span>
<span class="co">#&gt;  $ Conductivity       : num NA</span>
<span class="co">#&gt;  $ Density            : num NA</span>
<span class="co">#&gt;  $ Specific Heat      : num NA</span>
<span class="co">#&gt;  $ Thermal Absorptance: num 0.9</span>
<span class="co">#&gt;  $ Solar Absorptance  : num 0.7</span>
<span class="co">#&gt;  $ Visible Absorptance: num 0.7</span></pre></body></html></div>
<p>Please see <code><a href="../reference/IddObject.html">?IddObject</a></code> for detailed documentation on <code>IddObject</code> class.</p>
</div>
<div id="get-object" class="section level2">
<h2 class="hasAnchor">
<a href="#get-object" class="anchor"></a>Get object</h2>
<p>In an <code>Idf</code>, each object in the model is assigned with an unique <code>ID</code> according to its appearance sequence in the IDF file. You can find all valid <code>ID</code>s using <code>$object_id()</code>.</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">object_id</span>(<span class="kw">class</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Material"</span>, <span class="st">"Construction"</span>), <span class="kw">simplify</span> <span class="kw">=</span> <span class="fl">FALSE</span>)
<span class="co">#&gt; $Material</span>
<span class="co">#&gt;  [1] 43 44 45 46 47 48 49 50 51 52</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Construction</span>
<span class="co">#&gt; [1] 66 67 68 69 70 71 72</span></pre></body></html></div>
<p>You can get all object names using <code>$object_name()</code>. If the class does not have name attribute, <code>NA</code> will returned.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">object_name</span>(<span class="kw">class</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Version"</span>, <span class="st">"Material"</span>, <span class="st">"Construction"</span>), <span class="kw">simplify</span> <span class="kw">=</span> <span class="fl">FALSE</span>)
<span class="co">#&gt; $Version</span>
<span class="co">#&gt; [1] NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Material</span>
<span class="co">#&gt;  [1] "WD10" "RG01" "BR01" "IN46" "WD01" "PW03" "IN02" "GP01" "GP02" "CC03"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Construction</span>
<span class="co">#&gt; [1] "ROOF-1"               "WALL-1"               "CLNG-1"              </span>
<span class="co">#&gt; [4] "FLOOR-SLAB-1"         "INT-WALL-1"           "Dbl Clr 3mm/13mm Air"</span>
<span class="co">#&gt; [7] "Sgl Grey 3mm"</span></pre></body></html></div>
<p>Object number in each class can be retrieved using <code>$object_num()</code>.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">object_num</span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"BuildingSurface:Detailed"</span>, <span class="st">"Material"</span>, <span class="st">"Output:Variable"</span>))
<span class="co">#&gt; [1] 40 10 13</span></pre></body></html></div>
<p>Having the object ID or name, you can easily get any object using <code>$object()</code> which returns an <code>IdfObject</code> or using <code>$objects()</code> which returns a list of <code>IdfObject</code>s.</p>
<blockquote>
<p>NOTE: The matching of object names is case-insensitive. For instance, <code>model$object("rOoF")</code> is equivalent to <code>model$object("roof")</code>.</p>
</blockquote>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"WD10"</span>, <span class="st">"ROOF-1"</span>))
<span class="co">#&gt; $WD10</span>
<span class="co">#&gt; &lt;IdfObject: 'Material'&gt; [ID:43] `WD10`</span>
<span class="co">#&gt; Class: &lt;Material&gt;</span>
<span class="co">#&gt; ├─ 1*: "WD10",         !- Name</span>
<span class="co">#&gt; │─ 2*: "MediumSmooth", !- Roughness</span>
<span class="co">#&gt; │─ 3*: 0.667,          !- Thickness {m}</span>
<span class="co">#&gt; │─ 4*: 0.115,          !- Conductivity {W/m-K}</span>
<span class="co">#&gt; │─ 5*: 513,            !- Density {kg/m3}</span>
<span class="co">#&gt; │─ 6*: 1381,           !- Specific Heat {J/kg-K}</span>
<span class="co">#&gt; │─ 7 : 0.9,            !- Thermal Absorptance</span>
<span class="co">#&gt; │─ 8 : 0.78,           !- Solar Absorptance</span>
<span class="co">#&gt; └─ 9 : 0.78;           !- Visible Absorptance</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`ROOF-1`</span>
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:66] `ROOF-1`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "ROOF-1",   !- Name</span>
<span class="co">#&gt; │─ 2*: "RG01",     !- Outside Layer</span>
<span class="co">#&gt; │─ 3 : "BR01",     !- Layer 2</span>
<span class="co">#&gt; │─ 4 : "IN46",     !- Layer 3</span>
<span class="co">#&gt; └─ 5 : "WD01";     !- Layer 4</span></pre></body></html></div>
<p>If you want to get all objects in a single class, use <code>$objects_in_class()</code>.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">objects_in_class</span>(<span class="st">"Material"</span>)
<span class="co">#&gt; $WD10</span>
<span class="co">#&gt; &lt;IdfObject: 'Material'&gt; [ID:43] `WD10`</span>
<span class="co">#&gt; Class: &lt;Material&gt;</span>
<span class="co">#&gt; ├─ 1*: "WD10",         !- Name</span>
<span class="co">#&gt; │─ 2*: "MediumSmooth", !- Roughness</span>
<span class="co">#&gt; │─ 3*: 0.667,          !- Thickness {m}</span>
<span class="co">#&gt; │─ 4*: 0.115,          !- Conductivity {W/m-K}</span>
<span class="co">#&gt; │─ 5*: 513,            !- Density {kg/m3}</span>
<span class="co">#&gt; │─ 6*: 1381,           !- Specific Heat {J/kg-K}</span>
<span class="co">#&gt; │─ 7 : 0.9,            !- Thermal Absorptance</span>
<span class="co">#&gt; │─ 8 : 0.78,           !- Solar Absorptance</span>
<span class="co">#&gt; └─ 9 : 0.78;           !- Visible Absorptance</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $RG01</span>
<span class="co">#&gt; &lt;IdfObject: 'Material'&gt; [ID:44] `RG01`</span>
<span class="co">#&gt; Class: &lt;Material&gt;</span>
<span class="co">#&gt; ├─ 1*: "RG01",     !- Name</span>
<span class="co">#&gt; │─ 2*: "Rough",    !- Roughness</span>
<span class="co">#&gt; │─ 3*: 0.0127,     !- Thickness {m}</span>
<span class="co">#&gt; │─ 4*: 1.442,      !- Conductivity {W/m-K}</span>
<span class="co">#&gt; │─ 5*: 881,        !- Density {kg/m3}</span>
<span class="co">#&gt; │─ 6*: 1674,       !- Specific Heat {J/kg-K}</span>
<span class="co">#&gt; │─ 7 : 0.9,        !- Thermal Absorptance</span>
<span class="co">#&gt; │─ 8 : 0.65,       !- Solar Absorptance</span>
<span class="co">#&gt; └─ 9 : 0.65;       !- Visible Absorptance</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $BR01</span>
<span class="co">#&gt; &lt;IdfObject: 'Material'&gt; [ID:45] `BR01`</span>
<span class="co">#&gt; Class: &lt;Material&gt;</span>
<span class="co">#&gt; ├─ 1*: "BR01",         !- Name</span>
<span class="no">....</span></pre></body></html></div>
<p>Also, you can get all objects in a single class using <code><a href="https://rdrr.io/r/base/Extract.html">"$"</a></code> or <code><a href="https://rdrr.io/r/base/Extract.html">"[["</a></code>. Class names can be given in underscore-style. For example, you can just use <code>model$Material_NoMass</code> instead of <code>model$`Material:Nomass`</code> to save some typing.</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="no">model</span>$<span class="no">Material_NoMass</span>
<span class="co">#&gt; $CP01</span>
<span class="co">#&gt; &lt;IdfObject: 'Material:NoMass'&gt; [ID:53] `CP01`</span>
<span class="co">#&gt; Class: &lt;Material:NoMass&gt;</span>
<span class="co">#&gt; ├─ 1*: "CP01",     !- Name</span>
<span class="co">#&gt; │─ 2*: "Rough",    !- Roughness</span>
<span class="co">#&gt; │─ 3*: 0.367,      !- Thermal Resistance {m2-K/W}</span>
<span class="co">#&gt; │─ 4 : 0.9,        !- Thermal Absorptance</span>
<span class="co">#&gt; │─ 5 : 0.75,       !- Solar Absorptance</span>
<span class="co">#&gt; └─ 6 : 0.75;       !- Visible Absorptance</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`MAT-SB-U`</span>
<span class="co">#&gt; &lt;IdfObject: 'Material:NoMass'&gt; [ID:54] `MAT-SB-U`</span>
<span class="co">#&gt; Class: &lt;Material:NoMass&gt;</span>
<span class="co">#&gt; ├─ 1*: "MAT-SB-U",    !- Name</span>
<span class="co">#&gt; │─ 2*: "Rough",       !- Roughness</span>
<span class="co">#&gt; │─ 3*: 0.117406666,   !- Thermal Resistance {m2-K/W}</span>
<span class="co">#&gt; │─ 4 : 0.65,          !- Thermal Absorptance</span>
<span class="co">#&gt; │─ 5 : 0.65,          !- Solar Absorptance</span>
<span class="co">#&gt; └─ 6 : 0.65;          !- Visible Absorptance</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`MAT-CLNG-1`</span>
<span class="co">#&gt; &lt;IdfObject: 'Material:NoMass'&gt; [ID:55] `MAT-CLNG-1`</span>
<span class="co">#&gt; Class: &lt;Material:NoMass&gt;</span>
<span class="co">#&gt; ├─ 1*: "MAT-CLNG-1", !- Name</span>
<span class="co">#&gt; │─ 2*: "Rough",      !- Roughness</span>
<span class="co">#&gt; │─ 3*: 0.65225929,   !- Thermal Resistance {m2-K/W}</span>
<span class="co">#&gt; │─ 4 : 0.65,         !- Thermal Absorptance</span>
<span class="co">#&gt; │─ 5 : 0.65,         !- Solar Absorptance</span>
<span class="co">#&gt; └─ 6 : 0.65;         !- Visible Absorptance</span>
<span class="co">#&gt; </span>
<span class="no">....</span>
<span class="co"># OR</span>
<span class="co"># model[["Material_NoMass"]]</span></pre></body></html></div>
<p>Based on the above, if you want to get the first object in class <code>RunPeriod</code>, you can simply run:</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="no">rp</span> <span class="kw">&lt;-</span> <span class="no">model</span>$<span class="no">RunPeriod</span><span class="kw">[[</span><span class="fl">1</span>]]</pre></body></html></div>
<p>For unique object, such like <code>SimulationControl</code> and <code>Building</code>, you can use <code>$object_unique()</code></p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">object_unique</span>(<span class="st">"Building"</span>)
<span class="co">#&gt; &lt;IdfObject: 'Building'&gt; [ID:3] `Building`</span>
<span class="co">#&gt; Class: &lt;Building&gt;</span>
<span class="co">#&gt; ├─ 1: "Building",     !- Name</span>
<span class="co">#&gt; │─ 2: 30,             !- North Axis {deg}</span>
<span class="co">#&gt; │─ 3: "City",         !- Terrain</span>
<span class="co">#&gt; │─ 4: 0.04,           !- Loads Convergence Tolerance Value</span>
<span class="co">#&gt; │─ 5: 0.4,            !- Temperature Convergence Tolerance Value {deltaC}</span>
<span class="co">#&gt; │─ 6: "FullExterior", !- Solar Distribution</span>
<span class="co">#&gt; │─ 7: 25,             !- Maximum Number of Warmup Days</span>
<span class="co">#&gt; └─ 8: 6;              !- Minimum Number of Warmup Days</span>

<span class="co"># OR just</span>
<span class="co"># model$Building</span></pre></body></html></div>
<p>Many fields in a model can be referred by others. For example, the <code>Outside Layer</code> and other fields in <code>Construction</code> class refer to the <code>Name</code> field in <code>Material</code> class and other material related classes. Here it means that the <code>Outside Layer</code> field <strong>refers to</strong> the <code>Name</code> field and the <code>Name</code> field is <strong>referred by</strong> the <code>Outside Layer</code>. <code>$object_relation()</code> provides a simple interface to get this kind of relation. It takes a single object ID or name and also a relation direction, and returns an <code>IdfRelation</code> object which contains data presenting such relation above.</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">object_name</span>(<span class="st">"Material:NoMass"</span>)
<span class="co">#&gt; $`Material:NoMass`</span>
<span class="co">#&gt; [1] "CP01"        "MAT-SB-U"    "MAT-CLNG-1"  "MAT-FLOOR-1"</span>
<span class="no">model</span>$<span class="fu">object_relation</span>(<span class="st">"mat-clng-1"</span>)
<span class="co">#&gt; ── Refer to Others ─────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) does not refer to any other field.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Referred by Others ──────────────────────────────────────────────────────────</span>
<span class="co">#&gt;  Class: &lt;Material:NoMass&gt;</span>
<span class="co">#&gt;  └─ Object [ID:55] &lt;MAT-CLNG-1&gt;</span>
<span class="co">#&gt;      └─ 1: "MAT-CLNG-1";  !- Name</span>
<span class="co">#&gt;         ^~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;         └─ Class: &lt;Construction&gt;</span>
<span class="co">#&gt;            └─ Object [ID:68] &lt;CLNG-1&gt;</span>
<span class="co">#&gt;               └─ 2: "MAT-CLNG-1";  !- Outside Layer</span>
<span class="co">#&gt;     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Node Relation ───────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) has no node or their nodes have no reference to other object.</span></pre></body></html></div>
<p>Above shows that no-mass material <code>MAT-CLNG-1</code> is used at the outside layer of a construction named <code>CLNG-1</code>. You can extract both of them using <code>$objects_in_relation()</code>.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="no">mat_const</span> <span class="kw">&lt;-</span> <span class="no">model</span>$<span class="fu">objects_in_relation</span>(<span class="st">"mat-clng-1"</span>, <span class="st">"ref_by"</span>)
<span class="no">mat_const</span>
<span class="co">#&gt; $`MAT-CLNG-1`</span>
<span class="co">#&gt; &lt;IdfObject: 'Material:NoMass'&gt; [ID:55] `MAT-CLNG-1`</span>
<span class="co">#&gt; Class: &lt;Material:NoMass&gt;</span>
<span class="co">#&gt; ├─ 1*: "MAT-CLNG-1", !- Name</span>
<span class="co">#&gt; │─ 2*: "Rough",      !- Roughness</span>
<span class="co">#&gt; │─ 3*: 0.65225929,   !- Thermal Resistance {m2-K/W}</span>
<span class="co">#&gt; │─ 4 : 0.65,         !- Thermal Absorptance</span>
<span class="co">#&gt; │─ 5 : 0.65,         !- Solar Absorptance</span>
<span class="co">#&gt; └─ 6 : 0.65;         !- Visible Absorptance</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`CLNG-1`</span>
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:68] `CLNG-1`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "CLNG-1",     !- Name</span>
<span class="co">#&gt; └─ 2*: "MAT-CLNG-1"; !- Outside Layer</span></pre></body></html></div>
<p>After you get the objects, you can perform detailed modifications on them using methods <code>$set()</code> in both <code>Idf</code> and <code>IdfObject</code> class.</p>
<p>Similarly, you can use <code><a href="https://rdrr.io/r/base/Extract.html">"$"</a></code> and <code><a href="https://rdrr.io/r/base/Extract.html">"[["</a></code> to get a single value in an <code>IdfObject</code> class or <code><a href="https://rdrr.io/r/base/Extract.html">"["</a></code> to get multiple values just like normal lists in R.</p>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="no">rp</span>$<span class="no">Begin_Day_of_Month</span>
<span class="co">#&gt; [1] 14</span>

<span class="co"># OR</span>
<span class="co"># rp[["Begin_Day_of_Month"]]</span>
<span class="co"># rp[[3]]</span></pre></body></html></div>
<p>You can also make a chain.</p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="no">model</span>$<span class="no">RunPeriod</span>$<span class="no">WinterDay</span>$<span class="no">Begin_Day_of_Month</span>
<span class="co">#&gt; [1] 14</span></pre></body></html></div>
</div>
<div id="modify-object" class="section level2">
<h2 class="hasAnchor">
<a href="#modify-object" class="anchor"></a>Modify object</h2>
<p>There are two ways to modify objects in eplusr. One is using methods in <code>Idf</code> which works on multiple objects, and the other way is using methods in <code>IdfObject</code> which only works for a single object.</p>
<blockquote>
<p>NOTE: Validations are performed during object modifications under different strictness level (<code>none</code>, <code>draft</code>, <code>final</code> or custom yours using <code><a href="../reference/custom_validate.html">custom_validate()</a></code>). For detailed explanations, please see <code><a href="../reference/level_checks.html">?level_checks</a></code>.</p>
</blockquote>
<p><code>Idf</code> class provides 9 methods for modifying objects, including <code>$dup()</code>, <code>$add()</code>, <code>$set()</code>, <code>$del()</code>, <code>$rename()</code>, <code>$insert()</code>, <code>$load()</code> <code>$update()</code> and <code>$paste()</code>.</p>
<p>Object IDs will be appended after new objects are added, and the most-newly added object will always have the max ID. Object IDs will never be reused, even though their binded objects have been deleted using <code>$del()</code>.</p>
<p>For modifying object’s comments and values, you can also use <code>$comment()</code> and <code>$set()</code> in <code>IdfObject</code> class.</p>
<div id="duplicate-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#duplicate-objects" class="anchor"></a>Duplicate objects</h3>
<p><code>$dup()</code> duplicates objects specified by object IDs or names. If the target classes have a name attribute, you can assign new names to the duplicated objects in form <code>new_name = "old_name"</code>. If new name is not given, the newly added object will have the same name as the original object except a appended suffix of “<code>_1</code>”, “<code>_2</code>” and etc.</p>
<div class="sourceCode" id="cb24"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">dup</span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw">my_roof</span> <span class="kw">=</span> <span class="st">"ROOF-1"</span>, <span class="st">"ROOF-1"</span>, <span class="st">"WALL-1"</span>))
<span class="co">#&gt; New names of duplicated objects not given are automatically generated:</span>
<span class="co">#&gt;  #2| Object ID [324] --&gt; New object name 'ROOF-1_1'</span>
<span class="co">#&gt;  #3| Object ID [325] --&gt; New object name 'WALL-1_1'</span>
<span class="co">#&gt; $my_roof</span>
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:323] `my_roof`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "my_roof",  !- Name</span>
<span class="co">#&gt; │─ 2*: "RG01",     !- Outside Layer</span>
<span class="co">#&gt; │─ 3 : "BR01",     !- Layer 2</span>
<span class="co">#&gt; │─ 4 : "IN46",     !- Layer 3</span>
<span class="co">#&gt; └─ 5 : "WD01";     !- Layer 4</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`ROOF-1_1`</span>
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:324] `ROOF-1_1`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "ROOF-1_1", !- Name</span>
<span class="co">#&gt; │─ 2*: "RG01",     !- Outside Layer</span>
<span class="co">#&gt; │─ 3 : "BR01",     !- Layer 2</span>
<span class="co">#&gt; │─ 4 : "IN46",     !- Layer 3</span>
<span class="co">#&gt; └─ 5 : "WD01";     !- Layer 4</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`WALL-1_1`</span>
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:325] `WALL-1_1`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "WALL-1_1", !- Name</span>
<span class="co">#&gt; │─ 2*: "WD01",     !- Outside Layer</span>
<span class="co">#&gt; │─ 3 : "PW03",     !- Layer 2</span>
<span class="co">#&gt; │─ 4 : "IN02",     !- Layer 3</span>
<span class="co">#&gt; └─ 5 : "GP01";     !- Layer 4</span></pre></body></html></div>
</div>
<div id="add-new-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#add-new-objects" class="anchor"></a>Add new objects</h3>
<p>You can add new objects using <code>$add()</code>. With <code>.default</code> being <code>TRUE</code>, the default behavior, all empty fields are filled with default values, if possible. Only minimum fields will be added by default. But you can change it by setting <code>.all</code> to <code>TRUE</code>.</p>
<p>You can also add new comments alongside with new values using the special element <code>.comment</code>.</p>
<p>For example, here we add two new objects with comments in <code>RunPeriod</code> class:</p>
<div class="sourceCode" id="cb25"><html><body><pre class="r"><span class="no">rp1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">RunPeriod</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"rp_test_1"</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="kw">.comment</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Comment for new object 1"</span>, <span class="st">"Another comment"</span>)))

<span class="no">model</span>$<span class="fu">add</span>(<span class="no">rp1</span>,
  <span class="kw">RunPeriod</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"rp_test_2"</span>, <span class="kw">begin_month</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">begin_day_of_month</span> <span class="kw">=</span> <span class="fl">1</span>,
    <span class="kw">end_month</span> <span class="kw">=</span> <span class="fl">4</span>, <span class="kw">end_day_of_month</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">.comment</span> <span class="kw">=</span> <span class="st">"Comment for new object 2"</span>
  )
)
<span class="co">#&gt; $rp_test_1</span>
<span class="co">#&gt; &lt;IdfObject: 'RunPeriod'&gt; [ID:326] `rp_test_1`</span>
<span class="co">#&gt; ── COMMENTS ────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; !Comment for new object 1</span>
<span class="co">#&gt; !Another comment</span>
<span class="co">#&gt; ── VALUES ──────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Class: &lt;RunPeriod&gt;</span>
<span class="co">#&gt; ├─ 01 : "rp_test_1",      !- Name</span>
<span class="co">#&gt; │─ 02*: 1,                !- Begin Month</span>
<span class="co">#&gt; │─ 03*: 1,                !- Begin Day of Month</span>
<span class="co">#&gt; │─ 04*: 2,                !- End Month</span>
<span class="co">#&gt; │─ 05*: 1,                !- End Day of Month</span>
<span class="co">#&gt; │─ 06 : "UseWeatherFile", !- Day of Week for Start Day</span>
<span class="co">#&gt; │─ 07 : "Yes",            !- Use Weather File Holidays and Special Days</span>
<span class="co">#&gt; │─ 08 : "Yes",            !- Use Weather File Daylight Saving Period</span>
<span class="co">#&gt; │─ 09 : "No",             !- Apply Weekend Holiday Rule</span>
<span class="co">#&gt; │─ 10 : "Yes",            !- Use Weather File Rain Indicators</span>
<span class="co">#&gt; └─ 11 : "Yes";            !- Use Weather File Snow Indicators</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $rp_test_2</span>
<span class="co">#&gt; &lt;IdfObject: 'RunPeriod'&gt; [ID:327] `rp_test_2`</span>
<span class="co">#&gt; ── COMMENTS ────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; !Comment for new object 2</span>
<span class="co">#&gt; ── VALUES ──────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Class: &lt;RunPeriod&gt;</span>
<span class="co">#&gt; ├─ 01 : "rp_test_2",      !- Name</span>
<span class="co">#&gt; │─ 02*: 3,                !- Begin Month</span>
<span class="co">#&gt; │─ 03*: 1,                !- Begin Day of Month</span>
<span class="co">#&gt; │─ 04*: 4,                !- End Month</span>
<span class="co">#&gt; │─ 05*: 1,                !- End Day of Month</span>
<span class="co">#&gt; │─ 06 : "UseWeatherFile", !- Day of Week for Start Day</span>
<span class="co">#&gt; │─ 07 : "Yes",            !- Use Weather File Holidays and Special Days</span>
<span class="co">#&gt; │─ 08 : "Yes",            !- Use Weather File Daylight Saving Period</span>
<span class="co">#&gt; │─ 09 : "No",             !- Apply Weekend Holiday Rule</span>
<span class="co">#&gt; │─ 10 : "Yes",            !- Use Weather File Rain Indicators</span>
<span class="co">#&gt; └─ 11 : "Yes";            !- Use Weather File Snow Indicators</span></pre></body></html></div>
</div>
<div id="set-new-values-and-comments" class="section level3">
<h3 class="hasAnchor">
<a href="#set-new-values-and-comments" class="anchor"></a>Set new values and comments</h3>
<p>Changing values of existing objects can be conducted using <code>$set()</code> in <code>Idf</code> and <code>IdfObject</code>:</p>
<div class="sourceCode" id="cb26"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">set</span>(
  <span class="kw">rp_test_1</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"rp_test_3"</span>, <span class="kw">begin_day_of_month</span> <span class="kw">=</span> <span class="fl">2</span>,
    <span class="kw">.comment</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span>()), <span class="st">"begin day has been changed."</span>)
  )
)
<span class="co">#&gt; $rp_test_3</span>
<span class="co">#&gt; &lt;IdfObject: 'RunPeriod'&gt; [ID:326] `rp_test_3`</span>
<span class="co">#&gt; ── COMMENTS ────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; !2020-07-10</span>
<span class="co">#&gt; !begin day has been changed.</span>
<span class="co">#&gt; ── VALUES ──────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Class: &lt;RunPeriod&gt;</span>
<span class="co">#&gt; ├─ 01 : "rp_test_3",      !- Name</span>
<span class="co">#&gt; │─ 02*: 1,                !- Begin Month</span>
<span class="co">#&gt; │─ 03*: 2,                !- Begin Day of Month</span>
<span class="co">#&gt; │─ 04*: 2,                !- End Month</span>
<span class="co">#&gt; │─ 05*: 1,                !- End Day of Month</span>
<span class="co">#&gt; │─ 06 : "UseWeatherFile", !- Day of Week for Start Day</span>
<span class="co">#&gt; │─ 07 : "Yes",            !- Use Weather File Holidays and Special Days</span>
<span class="co">#&gt; │─ 08 : "Yes",            !- Use Weather File Daylight Saving Period</span>
<span class="co">#&gt; │─ 09 : "No",             !- Apply Weekend Holiday Rule</span>
<span class="co">#&gt; │─ 10 : "Yes",            !- Use Weather File Rain Indicators</span>
<span class="co">#&gt; └─ 11 : "Yes";            !- Use Weather File Snow Indicators</span></pre></body></html></div>
<p>For setting a single value, you can even write in a chain:</p>
<div class="sourceCode" id="cb27"><html><body><pre class="r">(<span class="no">model</span>$<span class="no">RunPeriod</span>$<span class="no">rp_test_2</span>$<span class="no">End_Day_of_Month</span> <span class="kw">&lt;-</span> <span class="fl">2</span>)
<span class="co">#&gt; [1] 2</span></pre></body></html></div>
<p>Also, if the modified fields are referenced by fields in other objects, the corresponding fields will also be updated.</p>
<div class="sourceCode" id="cb28"><html><body><pre class="r"><span class="no">mat</span> <span class="kw">&lt;-</span> <span class="no">model</span>$<span class="no">Material</span>$<span class="no">CC03</span>

<span class="no">mat</span>$<span class="fu">value_relation</span>(<span class="st">"Name"</span>)
<span class="co">#&gt; ── Refer to Others ─────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) does not refer to any other field.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Referred by Others ──────────────────────────────────────────────────────────</span>
<span class="co">#&gt;  Class: &lt;Material&gt;</span>
<span class="co">#&gt;  └─ Object [ID:52] &lt;CC03&gt;</span>
<span class="co">#&gt;      └─ 1: "CC03";        !- Name</span>
<span class="co">#&gt;         ^~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;         └─ Class: &lt;Construction&gt;</span>
<span class="co">#&gt;            └─ Object [ID:69] &lt;FLOOR-SLAB-1&gt;</span>
<span class="co">#&gt;               └─ 2: "CC03";        !- Outside Layer</span>
<span class="co">#&gt;     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Node Relation ───────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) has no node or their nodes have no reference to other object.</span>

<span class="no">mat</span>$<span class="fu">set</span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"CC03_renamed"</span>)
<span class="co">#&gt; &lt;IdfObject: 'Material'&gt; [ID:52] `CC03_renamed`</span>
<span class="co">#&gt; Class: &lt;Material&gt;</span>
<span class="co">#&gt; ├─ 1*: "CC03_renamed", !- Name</span>
<span class="co">#&gt; │─ 2*: "MediumRough",  !- Roughness</span>
<span class="co">#&gt; │─ 3*: 0.1016,         !- Thickness {m}</span>
<span class="co">#&gt; │─ 4*: 1.31,           !- Conductivity {W/m-K}</span>
<span class="co">#&gt; │─ 5*: 2243,           !- Density {kg/m3}</span>
<span class="co">#&gt; │─ 6*: 837,            !- Specific Heat {J/kg-K}</span>
<span class="co">#&gt; │─ 7 : 0.9,            !- Thermal Absorptance</span>
<span class="co">#&gt; │─ 8 : 0.65,           !- Solar Absorptance</span>
<span class="co">#&gt; └─ 9 : 0.65;           !- Visible Absorptance</span>

<span class="no">mat</span>$<span class="fu">value_relation</span>(<span class="st">"Name"</span>)
<span class="co">#&gt; ── Refer to Others ─────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) does not refer to any other field.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Referred by Others ──────────────────────────────────────────────────────────</span>
<span class="co">#&gt;  Class: &lt;Material&gt;</span>
<span class="co">#&gt;  └─ Object [ID:52] &lt;CC03_renamed&gt;</span>
<span class="co">#&gt;      └─ 1: "CC03_renamed";!- Name</span>
<span class="co">#&gt;         ^~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;         └─ Class: &lt;Construction&gt;</span>
<span class="co">#&gt;            └─ Object [ID:69] &lt;FLOOR-SLAB-1&gt;</span>
<span class="co">#&gt;               └─ 2: "CC03_renamed";!- Outside Layer</span>
<span class="co">#&gt;     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Node Relation ───────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) has no node or their nodes have no reference to other object.</span></pre></body></html></div>
<p>Sometimes, you may want to get all possible values of fields before you change them. You can achieve that by using <code>$value_possible()</code> method in <code>IdfObject</code> class.</p>
<div class="sourceCode" id="cb29"><html><body><pre class="r"><span class="no">mat</span>$<span class="fu">value_possible</span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">2</span>, <span class="fl">7</span>))
<span class="co">#&gt; ── 2: Roughness ────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; * Auto value: &lt;NA&gt;</span>
<span class="co">#&gt; * Default: &lt;NA&gt;</span>
<span class="co">#&gt; * Choice:</span>
<span class="co">#&gt;   - "VeryRough"</span>
<span class="co">#&gt;   - "Rough"</span>
<span class="co">#&gt;   - "MediumRough"</span>
<span class="co">#&gt;   - "MediumSmooth"</span>
<span class="co">#&gt;   - "Smooth"</span>
<span class="co">#&gt;   - "......"</span>
<span class="co">#&gt; * Source: &lt;NA&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── 7: Thermal Absorptance ──────────────────────────────────────────────────────</span>
<span class="co">#&gt; * Auto value: &lt;NA&gt;</span>
<span class="co">#&gt; * Default: 0.9</span>
<span class="co">#&gt; * Choice: &lt;NA&gt;</span>
<span class="co">#&gt; * Source: &lt;NA&gt;</span></pre></body></html></div>
</div>
<div id="insert-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#insert-objects" class="anchor"></a>Insert objects</h3>
<p>Sometimes it may be useful to insert objects from other IDFs. For example, you may want to import some design days and update location data from a “.ddy” file. You can achieve that using <code>$insert()</code>.</p>
<div class="sourceCode" id="cb30"><html><body><pre class="r"><span class="co"># read ddy file as normal IDF</span>
<span class="no">ddy</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_idf.html">read_idf</a></span>(<span class="st">"San_Francisco.ddy"</span>, <span class="kw">idd</span> <span class="kw">=</span> <span class="fl">8.8</span>)

<span class="no">model</span>$<span class="fu">insert</span>(<span class="no">ddy</span>$<span class="no">SizingPeriod_DesignDay</span>)
<span class="co">#&gt; $`San Francisco Intl Ap Ann Htg 99.6% Condns DB`</span>
<span class="co">#&gt; &lt;IdfObject: 'SizingPeriod:DesignDay'&gt; [ID:328] `San Francisco Intl Ap Ann Htg 99.6% Condns DB`</span>
<span class="co">#&gt; ── COMMENTS ────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; ! Using Design Conditions from "Climate Design Data 2009 ASHRAE Handbook"</span>
<span class="co">#&gt; ! San Francisco Intl Ap_CA_USA Extreme Annual Wind Speeds, 1%=12.8m/s, 2.5%...</span>
<span class="co">#&gt; ! San Francisco Intl Ap_CA_USA Extreme Annual Temperatures, Max Drybulb=1.8...</span>
<span class="co">#&gt; ! San Francisco Intl Ap_CA_USA Annual Heating Design Conditions Wind Speed=...</span>
<span class="co">#&gt; ! Coldest Month=JAN</span>
<span class="co">#&gt; ! San Francisco Intl Ap_CA_USA Annual Heating 99.6%, MaxDB=3.8�C</span>
<span class="co">#&gt; ── VALUES ──────────────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Class: &lt;SizingPeriod:DesignDay&gt;</span>
<span class="co">#&gt; ├─ 01*: "San Francisco Intl Ap Ann Htg 99.6% Condns DB",  !- Name</span>
<span class="co">#&gt; │─ 02*: 1,                  !- Month</span>
<span class="co">#&gt; │─ 03*: 21,                 !- Day of Month</span>
<span class="co">#&gt; │─ 04*: "WinterDesignDay",  !- Day Type</span>
<span class="co">#&gt; │─ 05 : 3.8,                !- Maximum Dry-Bulb Temperature {C}</span>
<span class="co">#&gt; │─ 06 : 0,                  !- Daily Dry-Bulb Temperature Range {deltaC}</span>
<span class="co">#&gt; │─ 07 : "DefaultMultipliers",  !- Dry-Bulb Temperature Range Modifier Type</span>
<span class="co">#&gt; │─ 08 : &lt;"Blank"&gt;,          !- Dry-Bulb Temperature Range Modifier Day Sche...</span>
<span class="co">#&gt; │─ 09 : "Wetbulb",          !- Humidity Condition Type</span>
<span class="no">....</span>

<span class="co"># get location data</span>
<span class="no">loc</span> <span class="kw">&lt;-</span> <span class="no">ddy</span>$<span class="no">Site_Location</span>$<span class="fu">value</span>()

<span class="no">model</span>$<span class="no">Site_Location</span>$<span class="fu">set</span>(<span class="no">loc</span>)
<span class="co">#&gt; &lt;IdfObject: 'Site:Location'&gt; [ID:10] `San Francisco Intl Ap_CA_USA Design_Conditions`</span>
<span class="co">#&gt; Class: &lt;Site:Location&gt;</span>
<span class="co">#&gt; ├─ 1*: "San Francisco Intl Ap_CA_USA Design_Conditions",  !- Name</span>
<span class="co">#&gt; │─ 2 : 37.62,              !- Latitude {deg}</span>
<span class="co">#&gt; │─ 3 : -122.4,             !- Longitude {deg}</span>
<span class="co">#&gt; │─ 4 : -8,                 !- Time Zone {hr}</span>
<span class="co">#&gt; └─ 5 : 2;                  !- Elevation {m}</span></pre></body></html></div>
</div>
<div id="load-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#load-objects" class="anchor"></a>Load objects</h3>
<p>Here <code>load</code> means <strong>insert</strong>. You can use character vectors or data.frames to load new objects.</p>
<div class="sourceCode" id="cb31"><html><body><pre class="r"><span class="no">mat_chr</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Construction,"</span>, <span class="st">"new_const1,"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="no">model</span>$<span class="no">Material</span><span class="kw">[[</span><span class="fl">1</span>]]$<span class="fu"><a href="https://rdrr.io/r/base/name.html">name</a></span>(), <span class="st">";"</span>))
<span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span>(<span class="no">mat_chr</span>)
<span class="co">#&gt; $new_const1</span>
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:346] `new_const1`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "new_const1", !- Name</span>
<span class="co">#&gt; └─ 2*: "WD10";       !- Outside Layer</span>

<span class="co"># extract first construction data in a data.table</span>
<span class="no">dt</span> <span class="kw">&lt;-</span> <span class="no">model</span>$<span class="no">Construction</span><span class="kw">[[</span><span class="fl">1L</span>]]$<span class="fu">to_table</span>()
<span class="co"># modify value</span>
<span class="no">dt</span>[<span class="fl">1</span>, <span class="no">value</span> <span class="kw">:=</span> <span class="st">"new_const2"</span>]
<span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span>(<span class="no">dt</span>)
<span class="co">#&gt; $new_const2</span>
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:347] `new_const2`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "new_const2", !- Name</span>
<span class="co">#&gt; │─ 2*: "RG01",       !- Outside Layer</span>
<span class="co">#&gt; │─ 3 : "BR01",       !- Layer 2</span>
<span class="co">#&gt; │─ 4 : "IN46",       !- Layer 3</span>
<span class="co">#&gt; └─ 5 : "WD01";       !- Layer 4</span></pre></body></html></div>
<p>The relation is automatically generated whenever new fields are added or modified.</p>
<div class="sourceCode" id="cb32"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">object_relation</span>(<span class="st">"new_const1"</span>)
<span class="co">#&gt; ── Refer to Others ─────────────────────────────────────────────────────────────</span>
<span class="co">#&gt;  Class: &lt;Construction&gt;</span>
<span class="co">#&gt;  └─ Object [ID:346] &lt;new_const1&gt;</span>
<span class="co">#&gt;      └─ 2: "WD10";        !- Outside Layer</span>
<span class="co">#&gt;         v~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;         └─ Class: &lt;Material&gt;</span>
<span class="co">#&gt;            └─ Object [ID:43] &lt;WD10&gt;</span>
<span class="co">#&gt;               └─ 1: "WD10";        !- Name</span>
<span class="co">#&gt;     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Referred by Others ──────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) is not referred by any other field.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Node Relation ───────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) has no node or their nodes have no reference to other object.</span>
<span class="no">model</span>$<span class="fu">object_relation</span>(<span class="st">"new_const2"</span>)
<span class="co">#&gt; ── Refer to Others ─────────────────────────────────────────────────────────────</span>
<span class="co">#&gt;  Class: &lt;Construction&gt;</span>
<span class="co">#&gt;  └─ Object [ID:347] &lt;new_const2&gt;</span>
<span class="co">#&gt;     ├─ 2: "RG01",        !- Outside Layer</span>
<span class="co">#&gt;     │  v~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;     │  └─ Class: &lt;Material&gt;</span>
<span class="co">#&gt;     │     └─ Object [ID:44] &lt;RG01&gt;</span>
<span class="co">#&gt;     │        └─ 1: "RG01";        !- Name</span>
<span class="co">#&gt;     │  </span>
<span class="co">#&gt;     ├─ 3: "BR01",        !- Layer 2</span>
<span class="co">#&gt;     │  v~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;     │  └─ Class: &lt;Material&gt;</span>
<span class="co">#&gt;     │     └─ Object [ID:45] &lt;BR01&gt;</span>
<span class="co">#&gt;     │        └─ 1: "BR01";        !- Name</span>
<span class="co">#&gt;     │  </span>
<span class="co">#&gt;     ├─ 4: "IN46",        !- Layer 3</span>
<span class="co">#&gt;     │  v~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;     │  └─ Class: &lt;Material&gt;</span>
<span class="co">#&gt;     │     └─ Object [ID:46] &lt;IN46&gt;</span>
<span class="co">#&gt;     │        └─ 1: "IN46";        !- Name</span>
<span class="co">#&gt;     │  </span>
<span class="co">#&gt;     └─ 5: "WD01";        !- Layer 4</span>
<span class="co">#&gt;        v~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;        └─ Class: &lt;Material&gt;</span>
<span class="co">#&gt;           └─ Object [ID:47] &lt;WD01&gt;</span>
<span class="co">#&gt;              └─ 1: "WD01";        !- Name</span>
<span class="co">#&gt;        </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Referred by Others ──────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) is not referred by any other field.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Node Relation ───────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) has no node or their nodes have no reference to other object.</span></pre></body></html></div>
</div>
<div id="update-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#update-objects" class="anchor"></a>Update objects</h3>
<p>Here <code>update</code> means <strong>set</strong>. You can use character vectors or data.frames to update existing objects.</p>
<div class="sourceCode" id="cb33"><html><body><pre class="r"><span class="no">mat_chr</span> <span class="kw">&lt;-</span> <span class="no">model</span>$<span class="no">Material</span>$<span class="no">WD10</span>$<span class="fu">to_string</span>()
<span class="co"># change material density</span>
<span class="no">mat_chr</span>[<span class="fl">6</span>] <span class="kw">&lt;-</span> <span class="st">"600,"</span>
<span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/stats/update.html">update</a></span>(<span class="no">mat_chr</span>)
<span class="co">#&gt; $WD10</span>
<span class="co">#&gt; &lt;IdfObject: 'Material'&gt; [ID:43] `WD10`</span>
<span class="co">#&gt; Class: &lt;Material&gt;</span>
<span class="co">#&gt; ├─ 1*: "WD10",         !- Name</span>
<span class="co">#&gt; │─ 2*: "MediumSmooth", !- Roughness</span>
<span class="co">#&gt; │─ 3*: 0.667,          !- Thickness {m}</span>
<span class="co">#&gt; │─ 4*: 0.115,          !- Conductivity {W/m-K}</span>
<span class="co">#&gt; │─ 5*: 600,            !- Density {kg/m3}</span>
<span class="co">#&gt; │─ 6*: 1381,           !- Specific Heat {J/kg-K}</span>
<span class="co">#&gt; │─ 7 : 0.9,            !- Thermal Absorptance</span>
<span class="co">#&gt; │─ 8 : 0.78,           !- Solar Absorptance</span>
<span class="co">#&gt; └─ 9 : 0.78;           !- Visible Absorptance</span>

<span class="co"># extract roof construction data in a data.table</span>
<span class="no">dt</span> <span class="kw">&lt;-</span> <span class="no">model</span>$<span class="no">Construction</span>$<span class="no">`ROOF-1`</span>$<span class="fu">to_table</span>()
<span class="co"># modify value</span>
<span class="no">dt</span>[<span class="fl">1</span>, <span class="no">value</span> <span class="kw">:=</span> <span class="st">"ROOF"</span>]
<span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/stats/update.html">update</a></span>(<span class="no">dt</span>)
<span class="co">#&gt; $ROOF</span>
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:66] `ROOF`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "ROOF",     !- Name</span>
<span class="co">#&gt; │─ 2*: "RG01",     !- Outside Layer</span>
<span class="co">#&gt; │─ 3 : "BR01",     !- Layer 2</span>
<span class="co">#&gt; │─ 4 : "IN46",     !- Layer 3</span>
<span class="co">#&gt; └─ 5 : "WD01";     !- Layer 4</span></pre></body></html></div>
</div>
<div id="delete-object" class="section level3">
<h3 class="hasAnchor">
<a href="#delete-object" class="anchor"></a>Delete object</h3>
<div id="del" class="section level4">
<h4 class="hasAnchor">
<a href="#del" class="anchor"></a><code>$del()</code>
</h4>
<p><code>$del()</code> will delete objects specified by object IDs or names. For example, in current model, there is a material named <code>"MAT-CLNG-1"</code> in class <code>Material:NoMass</code>. Let’s see if it has been referred by other objects.</p>
<div class="sourceCode" id="cb34"><html><body><pre class="r"><span class="no">model</span>$<span class="no">Material_NoMass</span>$<span class="no">`MAT-CLNG-1`</span>$<span class="fu">value_relation</span>()
<span class="co">#&gt; ── Refer to Others ─────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) does not refer to any other field.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Referred by Others ──────────────────────────────────────────────────────────</span>
<span class="co">#&gt;  Class: &lt;Material:NoMass&gt;</span>
<span class="co">#&gt;  └─ Object [ID:55] &lt;MAT-CLNG-1&gt;</span>
<span class="co">#&gt;      └─ 1: "MAT-CLNG-1";  !- Name</span>
<span class="co">#&gt;         ^~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;         └─ Class: &lt;Construction&gt;</span>
<span class="co">#&gt;            └─ Object [ID:68] &lt;CLNG-1&gt;</span>
<span class="co">#&gt;               └─ 2: "MAT-CLNG-1";  !- Outside Layer</span>
<span class="co">#&gt;     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Node Relation ───────────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Target(s) has no node or their nodes have no reference to other object.</span></pre></body></html></div>
<p>As we can see, <code>MAT-CLNG-1</code> has been referred by a construction named <code>"CLNG-1"</code>.</p>
<p>First, let’s try to direct delete Material <code>MAT-CLNG-1</code>.</p>
<div class="sourceCode" id="cb35"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">del</span>(<span class="st">"mat-clng-1"</span>)
<span class="co">#&gt; Error: Cannot delete object(s) that are referred by others:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Class: &lt;Material:NoMass&gt;</span>
<span class="co">#&gt;   └─ Object [ID:55] &lt;MAT-CLNG-1&gt;</span>
<span class="co">#&gt;       └─ 1: "MAT-CLNG-1";  !- Name</span>
<span class="co">#&gt;          ^~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;          └─ Class: &lt;Construction&gt;</span>
<span class="co">#&gt;             └─ Object [ID:68] &lt;CLNG-1&gt;</span>
<span class="co">#&gt;                └─ 2: "MAT-CLNG-1";  !- Outside Layer</span>
<span class="co">#&gt; </span></pre></body></html></div>
<p>We got an error, because directly deleting <code>MAT-CLNG-1</code> will introduce invalid reference in Construction <code>CLNG-1</code>.</p>
<p>In some cases, you may still want to delete that object. You can achieve this by setting <code>.force</code> to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb36"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">del</span>(<span class="st">"mat-clng-1"</span>, <span class="kw">.force</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co">#&gt; Deleting object(s) [ID: 55]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Object relation is shown below:</span>
<span class="co">#&gt;  ── Referred by Others ──────────────────────────────────────────────────────────</span>
<span class="co">#&gt;   Class: &lt;Material:NoMass&gt;</span>
<span class="co">#&gt;   └─ Object [ID:55] &lt;MAT-CLNG-1&gt;</span>
<span class="co">#&gt;       └─ 1: "MAT-CLNG-1";  !- Name</span>
<span class="co">#&gt;          ^~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">#&gt;          └─ Class: &lt;Construction&gt;</span>
<span class="co">#&gt;             └─ Object [ID:68] &lt;CLNG-1&gt;</span>
<span class="co">#&gt;                └─ 2: "MAT-CLNG-1";  !- Outside Layer</span>
<span class="co">#&gt;      </span>
<span class="co">#&gt; </span></pre></body></html></div>
</div>
<div id="purge" class="section level4">
<h4 class="hasAnchor">
<a href="#purge" class="anchor"></a><code>$purge()</code>
</h4>
<p><code>$purge()</code> will delete resource objects specified that are not used by any objects. Below we remove all schedules that are not currently used.</p>
<div class="sourceCode" id="cb37"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">purge</span>(<span class="kw">group</span> <span class="kw">=</span> <span class="st">"Schedules"</span>)
<span class="co">#&gt; Object(s) below have been purged:</span>
<span class="co">#&gt;  #1| Object ID [18] (name 'On/Off') in class 'ScheduleTypeLimits'</span>
<span class="co">#&gt;  #2| Object ID [19] (name 'FlowRate') in class 'ScheduleTypeLimits'</span></pre></body></html></div>
</div>
<div id="duplicated-and-unique" class="section level4">
<h4 class="hasAnchor">
<a href="#duplicated-and-unique" class="anchor"></a><code>$duplicated()</code> and <code>$unique()</code>
</h4>
<p><code>$duplicatd()</code> and <code>$unique()</code> can be used to detect and remove duplicated objects, respectively. Here duplicated objects refer to objects whose field values are the same except the names. Object comments are ignored during comparison. These two methods can be useful when doing model cleaning.</p>
<div class="sourceCode" id="cb38"><html><body><pre class="r"><span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/base/duplicated.html">duplicated</a></span>(<span class="kw">group</span> <span class="kw">=</span> <span class="st">"Schedules"</span>)
<span class="co">#&gt;                  class id                               name duplicated</span>
<span class="co">#&gt;  1: ScheduleTypeLimits 14                         Any Number      FALSE</span>
<span class="co">#&gt;  2: ScheduleTypeLimits 15                           Fraction      FALSE</span>
<span class="co">#&gt;  3: ScheduleTypeLimits 16                        Temperature      FALSE</span>
<span class="co">#&gt;  4: ScheduleTypeLimits 17                       Control Type      FALSE</span>
<span class="co">#&gt;  5:   Schedule:Compact 20                           OCCUPY-1      FALSE</span>
<span class="co">#&gt;  6:   Schedule:Compact 21                           LIGHTS-1      FALSE</span>
<span class="co">#&gt;  7:   Schedule:Compact 22                            EQUIP-1      FALSE</span>
<span class="co">#&gt;  8:   Schedule:Compact 23                          INFIL-SCH      FALSE</span>
<span class="co">#&gt;  9:   Schedule:Compact 24                            ActSchd      FALSE</span>
<span class="co">#&gt; 10:   Schedule:Compact 25                      ShadeTransSch      FALSE</span>
<span class="co">#&gt; 11:   Schedule:Compact 26                       Htg-SetP-Sch      FALSE</span>
<span class="co">#&gt; 12:   Schedule:Compact 27                 PlenumHtg-SetP-Sch      FALSE</span>
<span class="co">#&gt; 13:   Schedule:Compact 28                       Clg-SetP-Sch      FALSE</span>
<span class="co">#&gt; 14:   Schedule:Compact 29                 PlenumClg-SetP-Sch      FALSE</span>
<span class="co">#&gt; 15:   Schedule:Compact 30            Zone Control Type Sched      FALSE</span>
<span class="co">#&gt; 16:   Schedule:Compact 31                       Min OA Sched      FALSE</span>
<span class="co">#&gt; 17:   Schedule:Compact 32                      FanAvailSched      FALSE</span>
<span class="co">#&gt; 18:   Schedule:Compact 33              CoolingCoilAvailSched      FALSE</span>
<span class="co">#&gt; 19:   Schedule:Compact 34              CoolingPumpAvailSched      FALSE</span>
<span class="co">#&gt; 20:   Schedule:Compact 35               ReheatCoilAvailSched       TRUE</span>
<span class="co">#&gt; 21:   Schedule:Compact 36              CW Loop Temp Schedule      FALSE</span>
<span class="co">#&gt; 22:   Schedule:Compact 37              HW Loop Temp Schedule      FALSE</span>
<span class="co">#&gt; 23:   Schedule:Compact 38                       PlantOnSched       TRUE</span>
<span class="co">#&gt; 24:   Schedule:Compact 39 Seasonal Reset Supply Air Temp Sch      FALSE</span>
<span class="co">#&gt; 25:   Schedule:Compact 40     OA Cooling Supply Air Temp Sch      FALSE</span>
<span class="co">#&gt; 26:   Schedule:Compact 41     OA Heating Supply Air Temp Sch      FALSE</span>
<span class="co">#&gt; 27:   Schedule:Compact 42                          Always On       TRUE</span>
<span class="co">#&gt;                  class id                               name duplicated</span></pre></body></html></div>
<div class="sourceCode" id="cb39"><html><body><pre class="r"><span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span>(<span class="kw">group</span> <span class="kw">=</span> <span class="st">"Schedules"</span>)
<span class="co">#&gt; Duplications for object ID [32] (name 'FanAvailSched') in class 'Schedule:Compact' have been removed:</span>
<span class="co">#&gt;   #1| Object ID [35] (name 'ReheatCoilAvailSched')</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Duplications for object ID [34] (name 'CoolingPumpAvailSched') in class 'Schedule:Compact' have been removed:</span>
<span class="co">#&gt;   #1| Object ID [38] (name 'PlantOnSched')</span>
<span class="co">#&gt;   #2| Object ID [42] (name 'Always On')</span></pre></body></html></div>
</div>
</div>
<div id="paste-from-idf-editor" class="section level3">
<h3 class="hasAnchor">
<a href="#paste-from-idf-editor" class="anchor"></a>Paste from IDF Editor</h3>
<p>Once an IDF file is opened in IDF Editor, you can copy objects by clicking the <code>Copy Obj</code> button in IDF Editor, and use <code>$paste()</code> to insert those objects into current <code>Idf</code>. Note that IDF Editor only exists on Windows, which means that <code>$paste()</code> will also work only on that platform.</p>
</div>
</div>
<div id="validate" class="section level2">
<h2 class="hasAnchor">
<a href="#validate" class="anchor"></a>Validate</h2>
<p><code>$validate()</code> checks if there are errors in current <code>Idf</code> under specified validation level. You can customize what kind of errors to check by changing the <code>level</code> argument. The default validation level is equal to <code><a href="../reference/eplusr_option.html">eplusr_option("validate_level")</a></code>.</p>
<p>There are 10 different validation check components in total. Three predefined validation level are included, i.e. <code>"none"</code>, <code>"draft"</code> and <code>"final"</code>. To get what validation components those levels contain, use <code><a href="../reference/level_checks.html">level_checks()</a></code>.</p>
<div class="sourceCode" id="cb40"><html><body><pre class="r"><span class="fu"><a href="../reference/eplusr_option.html">eplusr_option</a></span>(<span class="st">"validate_level"</span>)
<span class="co">#&gt; [1] "final"</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="fu"><a href="../reference/level_checks.html">level_checks</a></span>(<span class="st">"final"</span>))
<span class="co">#&gt; List of 10</span>
<span class="co">#&gt;  $ required_object: logi TRUE</span>
<span class="co">#&gt;  $ unique_object  : logi TRUE</span>
<span class="co">#&gt;  $ unique_name    : logi TRUE</span>
<span class="co">#&gt;  $ extensible     : logi TRUE</span>
<span class="co">#&gt;  $ required_field : logi TRUE</span>
<span class="co">#&gt;  $ auto_field     : logi TRUE</span>
<span class="co">#&gt;  $ type           : logi TRUE</span>
<span class="co">#&gt;  $ choice         : logi TRUE</span>
<span class="co">#&gt;  $ range          : logi TRUE</span>
<span class="co">#&gt;  $ reference      : logi TRUE</span></pre></body></html></div>
<p>In the previous section, we deleted a material named <code>MAT-CLNG-1</code>.</p>
<p>The <code>final</code> validation level turns all checking components on. We can just trigger invalid reference checking using <code><a href="../reference/custom_validate.html">custom_validate()</a></code> function.</p>
<div class="sourceCode" id="cb41"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">validate</span>(<span class="fu"><a href="../reference/custom_validate.html">custom_validate</a></span>(<span class="kw">reference</span> <span class="kw">=</span> <span class="fl">TRUE</span>))
<span class="co">#&gt;  ✖ [1] Errors found during validation.</span>
<span class="co">#&gt; ════════════════════════════════════════════════════════════════════════════════</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── [1] Invalid Reference ───────────────────────────────────────────────────────</span>
<span class="co">#&gt;    Fields below are not one of valid references:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Class: &lt;Construction&gt;</span>
<span class="co">#&gt;     └─ Object [ID:68] &lt;CLNG-1&gt;</span>
<span class="co">#&gt;        └─ 2: "MAT-CLNG-1";  !- Outside Layer</span>
<span class="co">#&gt; </span></pre></body></html></div>
<p>As we can see, the invalid reference in construction <code>CLNG-1</code> is successfully detected.</p>
<p>In this example, we already knows that <code>CLNG-1</code> is the invalid object. In many cases, we don’t know that information in advance. As <code>$validate()</code> returns a list of <code>data.table</code>s, we can extract invalid objects for different types directly using <code>$validate()</code>. Below we extract all objects that have invalid reference errors.</p>
<div class="sourceCode" id="cb42"><html><body><pre class="r">(<span class="no">id</span> <span class="kw">&lt;-</span> <span class="no">model</span>$<span class="fu">validate</span>()$<span class="no">invalid_reference</span>$<span class="no">object_id</span>)
<span class="co">#&gt; [1] 68</span>
<span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span>(<span class="no">id</span>)
<span class="co">#&gt; $`CLNG-1`</span>
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:68] `CLNG-1`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "CLNG-1",     !- Name</span>
<span class="co">#&gt; └─ 2*: "MAT-CLNG-1"; !- Outside Layer</span></pre></body></html></div>
<p>Then we can use <code>$set()</code> to correct them. We can get all possible values for field <code>Outside Layer</code> using <code>$value_possible()</code> method in <code>IdfObject</code> class.</p>
<div class="sourceCode" id="cb43"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">object</span>(<span class="no">id</span>)$<span class="fu">value_possible</span>(<span class="st">"Outside Layer"</span>)$<span class="no">source</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt;  [1] "WD10"          "RG01"          "BR01"          "IN46"         </span>
<span class="co">#&gt;  [5] "WD01"          "PW03"          "IN02"          "GP01"         </span>
<span class="co">#&gt;  [9] "GP02"          "CC03_renamed"  "CP01"          "MAT-SB-U"     </span>
<span class="co">#&gt; [13] "MAT-FLOOR-1"   "AL21"          "AL23"          "CLEAR 3MM"    </span>
<span class="co">#&gt; [17] "GREY 3MM"      "CLEAR 6MM"     "LoE CLEAR 6MM" "AIR 6MM"      </span>
<span class="co">#&gt; [21] "AIR 13MM"      "ARGON 13MM"</span></pre></body></html></div>
<p>Now let’s change the construction’s <code>Outside Layer</code> to <code>WD10</code>.</p>
<div class="sourceCode" id="cb44"><html><body><pre class="r"><span class="no">model</span>$<span class="fu">object</span>(<span class="no">id</span>)$<span class="fu">set</span>(<span class="kw">Outside_Layer</span> <span class="kw">=</span> <span class="st">"WD10"</span>)
<span class="co">#&gt; &lt;IdfObject: 'Construction'&gt; [ID:68] `CLNG-1`</span>
<span class="co">#&gt; Class: &lt;Construction&gt;</span>
<span class="co">#&gt; ├─ 1*: "CLNG-1",   !- Name</span>
<span class="co">#&gt; └─ 2*: "WD10";     !- Outside Layer</span></pre></body></html></div>
</div>
<div id="save" class="section level2">
<h2 class="hasAnchor">
<a href="#save" class="anchor"></a>Save</h2>
<p>You can save your model using <code>$save()</code>. If no path is given, the path of model itself will be used. This may overwrite the current file which has a risk of losing your original file and data. You have to set <code>overwrite</code> to <code>TRUE</code> to confirm the process.</p>
<div class="sourceCode" id="cb45"><html><body><pre class="r"><span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span>(<span class="kw">overwrite</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

<span class="no">model</span>$<span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span>(<span class="st">"test.idf"</span>)</pre></body></html></div>
</div>
<div id="run-and-collect-output" class="section level2">
<h2 class="hasAnchor">
<a href="#run-and-collect-output" class="anchor"></a>Run and Collect Output</h2>
<p>eplusr uses the EnergyPlus command line interface which was introduced since EnergyPlus v8.3.0, which means that <code>$run()</code> only supports models with version higher than v8.3.0.</p>
<p>eplusr will auto-detect already installed EnergyPlus in the standard installation locations. You can get all detected EnergyPlus versions using <code><a href="../reference/use_eplus.html">avail_eplus()</a></code>.</p>
<div class="sourceCode" id="cb46"><html><body><pre class="r"><span class="fu"><a href="../reference/use_eplus.html">avail_eplus</a></span>()
<span class="co">#&gt; [1] '8.8.0' '9.1.0' '9.2.0'</span></pre></body></html></div>
<p><code>$run()</code> will issue an error if corresponding version of EnergyPlus is not found. If your EnergyPlus was not installed in standard location, you can add that location using <code><a href="../reference/use_eplus.html">use_eplus()</a></code>. After adding, all models of that version will use this path to call EnergyPlus.</p>
<div class="sourceCode" id="cb47"><html><body><pre class="r"><span class="fu"><a href="../reference/use_eplus.html">use_eplus</a></span>(<span class="st">"C:/EnergyPlusV8-8-0"</span>)</pre></body></html></div>
<p>If the needed version of EnergyPlus was not installed, you can use <code><a href="../reference/install_eplus.html">install_eplus()</a></code> to install it.</p>
<div class="sourceCode" id="cb48"><html><body><pre class="r"><span class="fu"><a href="../reference/install_eplus.html">install_eplus</a></span>(<span class="kw">ver</span> <span class="kw">=</span> <span class="fl">8.8</span>)</pre></body></html></div>
<p><code>$run()</code> will run the current model with specified weather using corresponding version of EnergyPlus. The model and the weather used will be copied to the output directory. An <code>EplusJob</code> object will be returned which provides detailed information of the simulation and methods to collect simulation output. Please see <code><a href="../reference/EplusJob.html">?EplusJob</a></code> for details.</p>
<div class="sourceCode" id="cb49"><html><body><pre class="r"><span class="co"># read the model again</span>
<span class="no">model</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_idf.html">read_idf</a></span>(<span class="st">"5Zone_Transformer.idf"</span>)
<span class="no">path_epw</span> <span class="kw">&lt;-</span> <span class="st">"San_Francisco.epw"</span>

<span class="no">job</span> <span class="kw">&lt;-</span> <span class="no">model</span>$<span class="fu">run</span>(<span class="no">path_epw</span>, <span class="kw">wait</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co">#&gt; Adding an object in class `Output:SQLite` and setting its `Option Type` to `SimpleAndTabular` in order to create SQLite output file.</span>
<span class="co">#&gt; Replace the existing IDF located at /tmp/Rtmp8NIpOx/5Zone_Transformer.idf.</span>
<span class="co">#&gt; EnergyPlus Starting</span>
<span class="co">#&gt; EnergyPlus, Version 8.8.0-7c3bbe4830, YMD=2020.07.10 09:30</span>
<span class="co">#&gt; Processing Data Dictionary</span>
<span class="co">#&gt; Processing Input File</span>
<span class="co">#&gt; Initializing Response Factors</span>
<span class="co">#&gt; Calculating CTFs for "ROOF-1", Construction # 1</span>
<span class="co">#&gt; Calculating CTFs for "WALL-1", Construction # 2</span>
<span class="co">#&gt; Calculating CTFs for "FLOOR-SLAB-1", Construction # 4</span>
<span class="co">#&gt; Calculating CTFs for "INT-WALL-1", Construction # 5</span>
<span class="co">#&gt; Initializing Window Optical Properties</span>
<span class="no">....</span></pre></body></html></div>
<div id="print-simulation-errors" class="section level3">
<h3 class="hasAnchor">
<a href="#print-simulation-errors" class="anchor"></a>Print simulation errors</h3>
<p>You can get simulation errors using <code>$errors()</code>.</p>
<div class="sourceCode" id="cb50"><html><body><pre class="r"><span class="no">job</span>$<span class="fu">errors</span>()
<span class="co">#&gt; ══ EnergyPlus Error File ═══════════════════════════════════════════════════════</span>
<span class="co">#&gt;   * EnergyPlus version: 8.8.0 (7c3bbe4830)</span>
<span class="co">#&gt;   * Simulation started: 2020-07-10 09:30:00</span>
<span class="co">#&gt;   * Terminated: FALSE</span>
<span class="co">#&gt;   * Successful: TRUE</span>
<span class="co">#&gt;   * Warning[W]: 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── During Zone Sizing Calculations ─────────────────────────────────────────────</span>
<span class="co">#&gt; [W 1/1] Weather file location will be used rather than entered (IDF) Location</span>
<span class="co">#&gt;         object.</span>
<span class="co">#&gt;         ..Location object=CHICAGO_IL_USA TMY2-94846</span>
<span class="co">#&gt;         ..Weather File Location=San Francisco Intl Ap CA USA TMY3 WMO#=724940</span>
<span class="co">#&gt;         ..due to location differences, Latitude difference=[4.16] degrees,</span>
<span class="co">#&gt;         Longitude difference=[34.65] degrees.</span>
<span class="co">#&gt;         ..Time Zone difference=[2.0] hour(s), Elevation difference=[98.95]</span>
<span class="co">#&gt;         percent, [188.00] meters.</span></pre></body></html></div>
</div>
<div id="retrieve-simulation-output" class="section level3">
<h3 class="hasAnchor">
<a href="#retrieve-simulation-output" class="anchor"></a>Retrieve simulation output</h3>
<p>eplusr uses the EnergyPlus SQL output for extracting simulation output. In order to do so, an object in <code>Output:SQLite</code> class with <code>Option Type</code> value of <code>SimpleAndTabular</code> will be automatically created if it does not exists. <code>EplusJob</code> has provided some wrappers that do SQL queries to get report data results, i.e. results from <code>Output:Variable</code> and <code>Output:Meter*</code>. But for <code>Output:Table</code> results, you have to be familiar with the structure of the EnergyPlus SQL output, especially for table <em>“TabularDataWithStrings”</em>. For details, please see <em>“2.20 eplusout.sql”</em>, especially <em>“2.20.4.4 TabularData Table”</em> in EnergyPlus <em>“Output Details and Examples”</em> documentation.</p>
<p><code>$report_data_dict()</code> returns a data.table which contains all information about report data. For details on the meaning of each columns, please see <em>“2.20.2.1 ReportDataDictionary Table”</em> in EnergyPlus <em>“Output Details and Examples”</em> documentation.</p>
<div class="sourceCode" id="cb51"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">job</span>$<span class="fu">report_data_dict</span>())
<span class="co">#&gt; Classes 'data.table' and 'data.frame':   20 obs. of  10 variables:</span>
<span class="co">#&gt;  $ report_data_dictionary_index: int  6 8 18 38 238 459 460 461 462 463 ...</span>
<span class="co">#&gt;  $ is_meter                    : int  0 1 1 1 1 0 0 0 0 0 ...</span>
<span class="co">#&gt;  $ type                        : chr  "Avg" "Sum" "Sum" "Sum" ...</span>
<span class="co">#&gt;  $ index_group                 : chr  "Zone" "Facility:Electricity" "Building:Electricity" "Facility:Electricity:InteriorLights" ...</span>
<span class="co">#&gt;  $ timestep_type               : chr  "HVAC System" "HVAC System" "HVAC System" "HVAC System" ...</span>
<span class="co">#&gt;  $ key_value                   : chr  "Environment" "" "" "" ...</span>
<span class="co">#&gt;  $ name                        : chr  "Site Outdoor Air Drybulb Temperature" "Electricity:Facility" "Electricity:Building" "InteriorLights:Electricity" ...</span>
<span class="co">#&gt;  $ reporting_frequency         : chr  "Zone Timestep" "Zone Timestep" "Zone Timestep" "Zone Timestep" ...</span>
<span class="co">#&gt;  $ schedule_name               : chr  NA NA NA NA ...</span>
<span class="co">#&gt;  $ units                       : chr  "C" "J" "J" "J" ...</span>
<span class="co">#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt;</span></pre></body></html></div>
<p><code>$report_data()</code> extracts the report data using key values and variable names. Just for demonstration, let’s get the transformer input electric power at 11 a.m for the first day of RunPeriod named <code>SUMMERDAY</code>, tag this simulation as case <code>example</code>, and return all possible output columns.</p>
<div class="sourceCode" id="cb52"><html><body><pre class="r"><span class="no">power</span> <span class="kw">&lt;-</span> <span class="no">job</span>$<span class="fu">report_data</span>(<span class="st">"transformer 1"</span>, <span class="st">"transformer input electric power"</span>, <span class="kw">case</span> <span class="kw">=</span> <span class="st">"example"</span>,
  <span class="kw">all</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">simulation_days</span> <span class="kw">=</span> <span class="fl">1</span>, <span class="kw">environment_name</span> <span class="kw">=</span> <span class="st">"summerday"</span>, <span class="kw">hour</span> <span class="kw">=</span> <span class="fl">11</span>, <span class="kw">minute</span> <span class="kw">=</span> <span class="fl">0</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">power</span>)
<span class="co">#&gt; Classes 'data.table' and 'data.frame':   0 obs. of  22 variables:</span>
<span class="co">#&gt;  $ case                    : chr </span>
<span class="co">#&gt;  $ datetime                : 'POSIXct' num(0) </span>
<span class="co">#&gt;  - attr(*, "tzone")= chr "UTC"</span>
<span class="co">#&gt;  $ month                   : int </span>
<span class="co">#&gt;  $ day                     : int </span>
<span class="co">#&gt;  $ hour                    : int </span>
<span class="co">#&gt;  $ minute                  : int </span>
<span class="co">#&gt;  $ dst                     : int </span>
<span class="co">#&gt;  $ interval                : int </span>
<span class="co">#&gt;  $ simulation_days         : int </span>
<span class="co">#&gt;  $ day_type                : chr </span>
<span class="co">#&gt;  $ environment_name        : chr </span>
<span class="co">#&gt;  $ environment_period_index: int </span>
<span class="co">#&gt;  $ is_meter                : int </span>
<span class="co">#&gt;  $ type                    : chr </span>
<span class="co">#&gt;  $ index_group             : chr </span>
<span class="co">#&gt;  $ timestep_type           : chr </span>
<span class="co">#&gt;  $ key_value               : chr </span>
<span class="co">#&gt;  $ name                    : chr </span>
<span class="co">#&gt;  $ reporting_frequency     : chr </span>
<span class="co">#&gt;  $ schedule_name           : chr </span>
<span class="co">#&gt;  $ units                   : chr </span>
<span class="co">#&gt;  $ value                   : num </span>
<span class="co">#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt;</span></pre></body></html></div>
<p><code>$report_data()</code> can also directly take the whole or subset results of <code>$report_data_dict()</code> to extract report data. In some case this may be quite handy. Let’s get all report variable with Celsius degree unit.</p>
<div class="sourceCode" id="cb53"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">job</span>$<span class="fu">report_data</span>(<span class="no">job</span>$<span class="fu">report_data_dict</span>()[<span class="no">units</span> <span class="kw">==</span> <span class="st">"C"</span>]))
<span class="co">#&gt; Classes 'data.table' and 'data.frame':   192 obs. of  6 variables:</span>
<span class="co">#&gt;  $ case     : chr  "5Zone_Transformer" "5Zone_Transformer" "5Zone_Transformer" "5Zone_Transformer" ...</span>
<span class="co">#&gt;  $ datetime : POSIXct, format: "2020-01-14 00:15:00" "2020-01-14 00:30:00" ...</span>
<span class="co">#&gt;  $ key_value: chr  "Environment" "Environment" "Environment" "Environment" ...</span>
<span class="co">#&gt;  $ name     : chr  "Site Outdoor Air Drybulb Temperature" "Site Outdoor Air Drybulb Temperature" "Site Outdoor Air Drybulb Temperature" "Site Outdoor Air Drybulb Temperature" ...</span>
<span class="co">#&gt;  $ units    : chr  "C" "C" "C" "C" ...</span>
<span class="co">#&gt;  $ value    : num  9.9 9.2 8.5 7.8 8.07 ...</span>
<span class="co">#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt;</span></pre></body></html></div>
<p><code>$tabular_data()</code> extracts tabular data. For details on the meaning of each columns, please see <em>“2.20.4.4 TabularData Table”</em> in EnergyPlus <em>“Output Details and Examples”</em> documentation.</p>
<p>Now let’s get the total site energy per total building area. Note that the <code>value</code> column in the returned <code>data.table</code> is character types, as some table store not just numbers. We need to manually convert it.</p>
<div class="sourceCode" id="cb54"><html><body><pre class="r"><span class="no">site_energy</span> <span class="kw">&lt;-</span> <span class="no">job</span>$<span class="fu">tabular_data</span>(
    <span class="kw">column_name</span> <span class="kw">=</span> <span class="st">"energy per total building area"</span>, <span class="kw">row_name</span> <span class="kw">=</span> <span class="st">"total site energy"</span>,
    <span class="kw">wide</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">string_value</span> <span class="kw">=</span> <span class="fl">FALSE</span>
)<span class="kw">[[</span><span class="fl">1</span>]]
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">site_energy</span>)
<span class="co">#&gt; Classes 'data.table' and 'data.frame':   1 obs. of  6 variables:</span>
<span class="co">#&gt;  $ case                                  : chr "5Zone_Transformer"</span>
<span class="co">#&gt;  $ report_name                           : chr "AnnualBuildingUtilityPerformanceSummary"</span>
<span class="co">#&gt;  $ report_for                            : chr "Entire Facility"</span>
<span class="co">#&gt;  $ table_name                            : chr "Site and Source Energy"</span>
<span class="co">#&gt;  $ row_name                              : chr "Total Site Energy"</span>
<span class="co">#&gt;  $ Energy Per Total Building Area [MJ/m2]: num 1.44</span>
<span class="co">#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt; </span>
<span class="co">#&gt;  - attr(*, "sorted")= chr [1:4] "case" "report_name" "report_for" "table_name"</span></pre></body></html></div>
</div>
</div>
<div id="run-parametric-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#run-parametric-analysis" class="anchor"></a>Run Parametric Analysis</h2>
<p>eplusr provides tools to do parametric simulations which take full advantages of eplusr’s model editing and result collecting functionalities. You can create a parametric job using <code><a href="../reference/param_job.html">param_job()</a></code>, which takes an IDF file or an <code>Idf</code> object as the <em>seed</em> and an EPW file or an <code>Epw</code> object as <em>weather</em>.</p>
<div class="sourceCode" id="cb55"><html><body><pre class="r"><span class="no">param</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/param_job.html">param_job</a></span>(<span class="kw">idf</span> <span class="kw">=</span> <span class="no">model</span>, <span class="kw">epw</span> <span class="kw">=</span> <span class="no">path_epw</span>)
<span class="co">#&gt; Adding an object in class `Output:SQLite` and setting its `Option Type` to `SimpleAndTabular` in order to create SQLite output file.</span>

<span class="no">param</span>
<span class="co">#&gt; ── EnergPlus Parametric Simulation Job ─────────────────────────────────────────</span>
<span class="co">#&gt; * Seed: '/tmp/Rtmp8NIpOx/5Zone_Transformer.idf'</span>
<span class="co">#&gt; * Weather: &lt;&lt; Not specified &gt;&gt;</span>
<span class="co">#&gt; * EnergyPlus Version: '8.8.0'</span>
<span class="co">#&gt; * EnergyPlus Path: '/home/travis/.local/EnergyPlus-8-8-0'</span>
<span class="co">#&gt; &lt;&lt; No measure has been applied &gt;&gt;</span></pre></body></html></div>
<p><code><a href="../reference/param_job.html">param_job()</a></code> returns a <code>ParametricJob</code> object which provides a prototype of conducting parametric analysis of EnergyPlus simulations. For more details, please see <code>?param</code>.</p>
<div id="apply-measure" class="section level3">
<h3 class="hasAnchor">
<a href="#apply-measure" class="anchor"></a>Apply measure</h3>
<p><code>$apply_measure()</code> allows to apply a measure to an <code>Idf</code> and create parametric models for simulations. Here, the concept of measure in eplusr is inspired by “measures” in <a href="https://nrel.github.io/OpenStudio-user-documentation/getting_started/about_measures/">OpenStudio</a>. Basically, a measure is just a function that takes an <code>Idf</code> object and other arguments as input, and returns a modified <code>Idf</code> object as output. Use <code>...</code> to supply different arguments to that measure.</p>
<p>Let’s create a function that modifies infiltration rate:</p>
<div class="sourceCode" id="cb56"><html><body><pre class="r"><span class="no">set_infil_rate</span> <span class="kw">&lt;-</span> <span class="kw">function</span> (<span class="no">idf</span>, <span class="no">infil_rate</span>) {

  <span class="co"># validate input value</span>
  <span class="co"># this is optional, as validations will be made when setting values</span>
  <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html">stopifnot</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span>(<span class="no">infil_rate</span>), <span class="no">infil_rate</span> <span class="kw">&gt;=</span> <span class="fl">0</span>)

  <span class="kw">if</span> (!<span class="no">idf</span>$<span class="fu">is_valid_class</span>(<span class="st">"ZoneInfiltration:DesignFlowRate"</span>))
    <span class="fu"><a href="https://rdrr.io/r/base/stop.html">stop</a></span>(<span class="st">"Input model does not have any object in class `ZoneInfiltration:DesignFlowRate`"</span>)

  <span class="co"># get all object IDS</span>
  <span class="no">ids</span> <span class="kw">&lt;-</span> <span class="no">idf</span>$<span class="fu">object_id</span>(<span class="st">"ZoneInfiltration:DesignFlowRate"</span>, <span class="kw">simplify</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

  <span class="co"># make a list of new values to set</span>
  <span class="no">new_val</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">design_flow_rate_calculation_method</span> <span class="kw">=</span> <span class="st">"AirChanges/Hour"</span>, <span class="kw">air_changes_per_hour</span> <span class="kw">=</span> <span class="no">infil_rate</span>)

  <span class="co"># create proper format for all objects in that class</span>
  <span class="no">val</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">new_val</span>), <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="no">ids</span>))
  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">val</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">".."</span>, <span class="no">ids</span>)

  <span class="no">idf</span>$<span class="fu">set</span>(<span class="no">val</span>)

  <span class="no">idf</span>
}</pre></body></html></div>
<p>The measure <code>set_infil_rate()</code> is pretty simple. First, it gets all objects in class <code>ZoneInfiltration:DesignFlowRate</code>. Then it sets ACH in all zones to the input value.</p>
<p>Now, let’s apply this measure to the seed model with different infiltration rates from 0.0 to 4.0, respectively.</p>
<div class="sourceCode" id="cb57"><html><body><pre class="r"><span class="no">param</span>$<span class="fu">apply_measure</span>(<span class="no">set_infil_rate</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">0</span>, <span class="fl">4</span>, <span class="kw">by</span> <span class="kw">=</span> <span class="fl">1</span>), <span class="kw">.names</span> <span class="kw">=</span> <span class="kw">NULL</span>)
<span class="co">#&gt; Measure 'set_infil_rate' has been applied with 5 new models created:</span>
<span class="co">#&gt; [1]: set_infil_rate_1</span>
<span class="co">#&gt; [2]: set_infil_rate_2</span>
<span class="co">#&gt; [3]: set_infil_rate_3</span>
<span class="co">#&gt; [4]: set_infil_rate_4</span>
<span class="co">#&gt; [5]: set_infil_rate_5</span></pre></body></html></div>
<p>As we can see, 5 models have been created. As we left <code>.names</code> as <code>NULL</code>, each newly created models will be named as a combination of measure name and model number.</p>
</div>
<div id="run-in-parallel-and-collect-results" class="section level3">
<h3 class="hasAnchor">
<a href="#run-in-parallel-and-collect-results" class="anchor"></a>Run in parallel and collect results</h3>
<p>Now let’s run the parametric job. All simulations will be run in parallel. The number of parallel EnergyPlus processes can be specified using option <code>num_parallel</code>. Now let’s run all simulations and wait them to finish.</p>
<div class="sourceCode" id="cb58"><html><body><pre class="r"><span class="no">param</span>$<span class="fu">run</span>(<span class="kw">wait</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co">#&gt; 1|RUNNING    --&gt; [IDF]'set_infil_rate_1.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; 2|RUNNING    --&gt; [IDF]'set_infil_rate_2.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; 1|COMPLETED  --&gt; [IDF]'set_infil_rate_1.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; 3|RUNNING    --&gt; [IDF]'set_infil_rate_3.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; 2|COMPLETED  --&gt; [IDF]'set_infil_rate_2.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; 4|RUNNING    --&gt; [IDF]'set_infil_rate_4.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; 3|COMPLETED  --&gt; [IDF]'set_infil_rate_3.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; 5|RUNNING    --&gt; [IDF]'set_infil_rate_5.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; 4|COMPLETED  --&gt; [IDF]'set_infil_rate_4.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; 5|COMPLETED  --&gt; [IDF]'set_infil_rate_5.idf' + [EPW]'San_Francisco.epw'</span>
<span class="co">#&gt; ── EnergPlus Parametric Simulation Job ─────────────────────────────────────────</span>
<span class="co">#&gt; * Seed: '/tmp/Rtmp8NIpOx/5Zone_Transformer.idf'</span>
<span class="co">#&gt; * Weather: &lt;&lt; Not specified &gt;&gt;</span>
<span class="co">#&gt; * EnergyPlus Version: '8.8.0'</span>
<span class="co">#&gt; * EnergyPlus Path: '/home/travis/.local/EnergyPlus-8-8-0'</span>
<span class="co">#&gt; Applied Measure: 'set_infil_rate'</span>
<span class="co">#&gt; Parametric Models [5]: </span>
<span class="co">#&gt; [1]: 'set_infil_rate_1.idf' &lt;-- SUCCEEDED</span>
<span class="co">#&gt; [2]: 'set_infil_rate_2.idf' &lt;-- SUCCEEDED</span>
<span class="co">#&gt; [3]: 'set_infil_rate_3.idf' &lt;-- SUCCEEDED</span>
<span class="co">#&gt; [4]: 'set_infil_rate_4.idf' &lt;-- SUCCEEDED</span>
<span class="co">#&gt; [5]: 'set_infil_rate_5.idf' &lt;-- SUCCEEDED</span>
<span class="co">#&gt;  Simulation started at '2020-07-10 09:30:22' and completed successfully after 5.68 secs.</span></pre></body></html></div>
<p>After all simulations completed, let’s see the variations of total energy.</p>
<div class="sourceCode" id="cb59"><html><body><pre class="r"><span class="no">tab</span> <span class="kw">&lt;-</span> <span class="no">param</span>$<span class="fu">tabular_data</span>(
    <span class="kw">table_name</span> <span class="kw">=</span> <span class="st">"Site and Source Energy"</span>,
    <span class="kw">column_name</span> <span class="kw">=</span> <span class="st">"Total Energy"</span>,
    <span class="kw">row_name</span> <span class="kw">=</span> <span class="st">"Total Site Energy"</span>
)

<span class="no">total_eng</span> <span class="kw">&lt;-</span> <span class="no">tab</span>[, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">case</span>, <span class="kw">`Total Energy (GJ)`</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">value</span>))]</pre></body></html></div>
<div class="sourceCode" id="cb60"><html><body><pre class="r"><span class="no">total_eng</span></pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="left">case</th>
<th align="right">Total Energy (GJ)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">set_infil_rate_1</td>
<td align="right">1.33</td>
</tr>
<tr class="even">
<td align="left">set_infil_rate_2</td>
<td align="right">1.35</td>
</tr>
<tr class="odd">
<td align="left">set_infil_rate_3</td>
<td align="right">1.36</td>
</tr>
<tr class="even">
<td align="left">set_infil_rate_4</td>
<td align="right">1.38</td>
</tr>
<tr class="odd">
<td align="left">set_infil_rate_5</td>
<td align="right">1.39</td>
</tr>
</tbody>
</table>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/hongyuanjia">Hongyuan Jia</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '158ff4599f27d2efdd371e5200cdb538',
    indexName: 'eplusr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
